{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"fourier-grx-client","text":"<p>This is the client library for the Fourier GRX robot. The correponding server library can be found here.</p>"},{"location":"#installation","title":"Installation","text":"<p>Attention</p> <p>This software is highly unstable and subject to change at any time. Version 0.1.5 is only compatible with <code>fourier-grx</code> version <code>v0.1.1-rc.6</code>.</p>"},{"location":"#on-the-robot","title":"On the robot","text":"<p>On the robot, install <code>fourier-grx==0.1.0rc6</code> following the instructions here.</p>"},{"location":"#on-your-local-machine","title":"On your local machine:","text":""},{"location":"#install-from-pypi","title":"Install from pypi","text":"<p>Run:</p> <pre><code>pip install fourier-grx-client==0.1.5\n</code></pre>"},{"location":"#install-from-source","title":"Install from source","text":"<pre><code>git clone https://github.com/FFTAI/fourier-grx-client.git\ncd fourier-grx-client\npip install -e .\n</code></pre>"},{"location":"#usage","title":"Usage","text":"<p>First make sure you know the IP address of the robot server and the namespace it is running on. Namespace is set by the <code>--namespace</code> flag when starting the robot server.</p> <p>On your robot: </p> <pre><code>grx run ./path/to/config.yaml --urdf-path ./path/to/urdf_folder --namespace gr/my_awesome_robot\n</code></pre> <p>Then on your local machine, you can create a client object like this:</p> <pre><code>from fourier_grx_client import *\n\nr = RobotClient(namespace=\"gr/my_awesome_robot\", server_ip=\"192.168.6.6\")\n</code></pre> <p>Tip</p> <p>For more information on the API, see the API Reference.</p>"},{"location":"#development","title":"Development","text":"<ol> <li>Install the <code>pdm</code> package manager:</li> </ol> <pre><code>pip install pdm\n</code></pre> <ol> <li>use <code>pdm</code> to install the package and all development dependencies:</li> </ol> <pre><code>pdm install -v -d\n</code></pre>"},{"location":"dev/changelog/","title":"Changelog","text":"<p>Attention</p> <p>This software is highly unstable and subject to change at any time.</p>"},{"location":"dev/changelog/#release-v015-2024-09-11","title":"Release v0.1.5 (2024-09-11)","text":""},{"location":"dev/changelog/#enhancements","title":"\ud83d\udcaa Enhancements","text":"<ul> <li>Fortify service call handling in <code>ZenohSession</code></li> </ul>"},{"location":"dev/changelog/#bug-fixes","title":"\ud83d\udc1b Bug Fixes","text":"<ul> <li>Rename <code>zenoh.py</code> to <code>zenoh_utils.py</code> to avoid name clashing</li> </ul>"},{"location":"dev/changelog/#release-v014-2024-08-30","title":"Release v0.1.4 (2024-08-30)","text":""},{"location":"dev/changelog/#enhancements_1","title":"\ud83d\udcaa Enhancements","text":"<ul> <li>Add <code>degrees</code> option to <code>move_joints</code></li> <li>Better documentation for <code>move_joints</code></li> </ul>"},{"location":"dev/changelog/#release-v013-2024-08-30","title":"Release v0.1.3 (2024-08-30)","text":""},{"location":"dev/changelog/#enhancements_2","title":"\ud83d\udcaa Enhancements","text":"<ul> <li>Explicitly define exports in <code>__init__.py</code></li> </ul>"},{"location":"dev/changelog/#release-v012-2024-08-30","title":"Release v0.1.2 (2024-08-30)","text":""},{"location":"dev/changelog/#features","title":"\ud83d\ude80 Features","text":"<ul> <li>Support <code>fourier-grx</code> version <code>v0.1.1-rc.6</code></li> </ul>"},{"location":"dev/changelog/#release-v011-2024-08-30","title":"Release v0.1.1 (2024-08-30)","text":""},{"location":"dev/changelog/#bug-fixes_1","title":"\ud83d\udc1b Bug Fixes","text":"<ul> <li>Fix typo in <code>RobotClient</code></li> <li>Allow multicast for compatibility</li> </ul>"},{"location":"dev/changelog/#release-v010-2024-08-30","title":"Release v0.1.0 (2024-08-30)","text":""},{"location":"dev/changelog/#features_1","title":"\ud83d\ude80 Features","text":"<ul> <li>Support python &gt;= 3.8</li> <li>Support <code>fourier-grx</code> version <code>v0.1.1-rc.3</code></li> <li>Allow addressing control groups by name in <code>move_joints</code></li> </ul>"},{"location":"reference/api/","title":"API Reference","text":""},{"location":"reference/api/#fourier_grx_client.client.RobotClient","title":"<code>fourier_grx_client.client.RobotClient</code>","text":"<p>               Bases: <code>ZenohSession</code></p> <p>Client class for GR series robots. Example:</p> <pre><code>&gt;&gt;&gt; from fourier_grx_client import *\n&gt;&gt;&gt; r = RobotClient(namespace=\"gr/my_awesome_robot\", server_ip=\"192.168.6.6\")\n</code></pre>"},{"location":"reference/api/#fourier_grx_client.client.RobotClient.is_moving","title":"<code>is_moving</code>  <code>property</code>","text":"<p>Whether the robot is currently moving.</p>"},{"location":"reference/api/#fourier_grx_client.client.RobotClient.joint_positions","title":"<code>joint_positions</code>  <code>property</code>","text":"<p>Get the current joint positions of the robot.</p>"},{"location":"reference/api/#fourier_grx_client.client.RobotClient.joint_velocities","title":"<code>joint_velocities</code>  <code>property</code>","text":"<p>Get the current joint velocities of the robot.</p>"},{"location":"reference/api/#fourier_grx_client.client.RobotClient.__init__","title":"<code>__init__(freq=400, namespace='gr', server_ip='localhost', verbose=False)</code>","text":"<p>The client class for GR series robots.</p> <p>Parameters:</p> Name Type Description Default <code>server_ip</code> <code>str</code> <p>IP address of the grx server. Please make sure to properly setup the firewall to allow port 7447. Defaults to \"localhost\".</p> <code>'localhost'</code> <code>freq</code> <code>int</code> <p>Robot state update frequency. Usually the user doesn't need to modify this. Defaults to 400.</p> <code>400</code> <code>namespace</code> <code>str</code> <p>Robot namespace. Defaults to \"gr\".</p> <code>'gr'</code> <code>verbose</code> <code>bool</code> <p>Whether to print debug messages. Defaults to False.</p> <code>False</code> <p>Raises:</p> Type Description <code>FourierConnectionError</code> <p>If the connection to the server failed.</p>"},{"location":"reference/api/#fourier_grx_client.client.RobotClient.disable","title":"<code>disable()</code>","text":"<p>Disable the motors.</p>"},{"location":"reference/api/#fourier_grx_client.client.RobotClient.enable","title":"<code>enable()</code>","text":"<p>Enable the motors.</p>"},{"location":"reference/api/#fourier_grx_client.client.RobotClient.get_group_position","title":"<code>get_group_position(group)</code>","text":"<p>Get the joint positions of a group.</p>"},{"location":"reference/api/#fourier_grx_client.client.RobotClient.get_group_position_by_name","title":"<code>get_group_position_by_name(name)</code>","text":"<p>Get the joint positions of a group by its name.</p> <p>Parameters:</p> Name Type Description Default <code>name</code> <code>str</code> <p>The name of the group. Available group names: 'left_leg', 'right_leg', 'waist', 'head', 'left_arm', 'right_arm'.</p> required"},{"location":"reference/api/#fourier_grx_client.client.RobotClient.get_transform","title":"<code>get_transform(target_frame, source_frame, q=None)</code>","text":"<p>Get the transformation matrix between two frames in configuration <code>q</code>. If <code>q</code> is None, the current joint positions are used.</p> <p>Parameters:</p> Name Type Description Default <code>target_frame</code> <code>str</code> <p>Name of the frame to get the pose of.</p> required <code>source_frame</code> <code>str</code> <p>Name of the frame to get the pose in.</p> required <code>q</code> <code>ndarray</code> <p>The robot confiuration to do forward kinematics in. Defaults to None.</p> <code>None</code> <p>Returns:</p> Type Description <p>np.ndarray: The transformation matrix.</p>"},{"location":"reference/api/#fourier_grx_client.client.RobotClient.list_frames","title":"<code>list_frames()</code>","text":"<p>List all available frames.</p>"},{"location":"reference/api/#fourier_grx_client.client.RobotClient.liveness_check","title":"<code>liveness_check()</code>","text":"<p>Check if the robot server is alive.</p>"},{"location":"reference/api/#fourier_grx_client.client.RobotClient.move_joints","title":"<code>move_joints(group, positions, duration=0.0, degrees=True, blocking=True)</code>","text":"<p>Move in joint space with time duration.</p> <p>Move in joint space with time duration in a separate thread. Can be aborted using <code>abort()</code>. Can be blocking. If the duration is set to 0, the joints will move in their maximum speed without interpolation.</p> Joint Order <p>The joints order is as follows:     0: l_hip_roll, 1: l_hip_yaw, 2: l_hip_pitch, 3: l_knee_pitch, 4: l_ankle_pitch, 5: l_ankle_roll, 6: r_hip_roll, 7: r_hip_yaw, 8: r_hip_pitch, 9: r_knee_pitch, 10: r_ankle_pitch, 11: r_ankle_roll, 12: joint_waist_yaw, 13: joint_waist_pitch, 14: joint_waist_roll, 15: joint_head_pitch, 16: joint_head_roll, 17: joint_head_yaw, 18: l_shoulder_pitch, 19: l_shoulder_roll, 20: l_shoulder_yaw, 21: l_elbow_pitch, 22: l_wrist_yaw, 23: l_wrist_roll, 24: l_wrist_pitch, 25: r_shoulder_pitch, 26: r_shoulder_roll, 27: r_shoulder_yaw, 28: r_elbow_pitch, 29: r_wrist_yaw, 30: r_wrist_roll, 31: r_wrist_pitch</p> <p>Example:</p> <pre><code>&gt;&gt;&gt; # Move the left arm to a specific position\n&gt;&gt;&gt; r.move_joints(\"left_arm\", [0, 0, 0, 20, 0, 0, 0], degrees=True)\n\n&gt;&gt;&gt; # or use the ControlGroup enum\n&gt;&gt;&gt; r.move_joints(ControlGroup.LEFT_ARM, [0, 0, 0, 20, 0, 0, 0], degrees=True)\n\n&gt;&gt;&gt; # or use indices, with radians instead of degrees\n&gt;&gt;&gt; r.move_joints([23, 24], [0.17, 0.17], degrees=False)\n</code></pre> <p>Parameters:</p> Name Type Description Default <code>group</code> <code>ControlGroup | list | str</code> <p>The group of joints to move, specified by a string or a ControlGroup enum, or a list of joint indices.</p> required <code>positions</code> <code>ndarray[float]</code> <p>target joint position in degrees.</p> required <code>duration</code> <code>float</code> <p>Time duration in seconds. If set to 0, the joints will move in their maximum speed without interpolation. Defaults to 0.0.</p> <code>0.0</code> <code>degrees</code> <code>bool</code> <p>Whether the joint positions are in degrees. Defaults to True.</p> <code>True</code> <code>blocking</code> <code>bool</code> <p>If True, block until the move is completed. Defaults to True.</p> <code>True</code>"},{"location":"reference/api/#fourier_grx_client.client.RobotClient.play_traj","title":"<code>play_traj(traj, timestamps=None)</code>","text":"<p>Play a trajectory in joint space.</p>"},{"location":"reference/api/#fourier_grx_client.client.RobotClient.reboot","title":"<code>reboot()</code>","text":"<p>Reboot the motors.</p>"},{"location":"reference/api/#fourier_grx_client.client.RobotClient.set_enable","title":"<code>set_enable(enable)</code>","text":"<p>Enable or disable the motors.</p>"},{"location":"reference/api/#fourier_grx_client.client.RobotClient.set_gains","title":"<code>set_gains(kp, kd, control_mode=None)</code>","text":"<p>Set the gains for the joints.</p> <p>Parameters:</p> Name Type Description Default <code>kp</code> <code>ndarray</code> <p>The proportional gains.</p> required <code>kd</code> <code>ndarray</code> <p>The derivative gains.</p> required <code>control_mode</code> <code>ndarray</code> <p>The control mode for each joint. Defaults to None.</p> <code>None</code>"},{"location":"reference/api/#fourier_grx_client.client.RobotClient.set_home","title":"<code>set_home()</code>","text":"<p>Get sensor offsets and save to <code>sensor_offset.json</code></p>"},{"location":"reference/api/#fourier_grx_client.utils.ControlGroup","title":"<code>fourier_grx_client.utils.ControlGroup</code>","text":"<p>               Bases: <code>tuple</code>, <code>Enum</code></p> <p>Control group enumeration. Each group is a tuple of (start, num_joints). Available groups are: ALL, LEFT_LEG, RIGHT_LEG, WAIST, HEAD, LEFT_ARM, RIGHT_ARM, LOWER, UPPER, UPPER_EXTENDED.</p> Source code in <code>src/fourier_grx_client/utils.py</code> <pre><code>class ControlGroup(tuple, Enum):\n    \"\"\"Control group enumeration. Each group is a tuple of (start, num_joints). Available groups are: ALL, LEFT_LEG, RIGHT_LEG, WAIST, HEAD, LEFT_ARM, RIGHT_ARM, LOWER, UPPER, UPPER_EXTENDED.\"\"\"\n\n    ALL = (0, 32)\n    LEFT_LEG = (0, 6)\n    RIGHT_LEG = (6, 6)\n    WAIST = (12, 3)\n    HEAD = (15, 3)\n    LEFT_ARM = (18, 7)\n    RIGHT_ARM = (25, 7)\n    LOWER = (0, 18)\n    UPPER = (18, 14)\n    UPPER_EXTENDED = (12, 20)\n\n    @property\n    def slice(self):\n        return slice(self.value[0], self.value[0] + self.value[1])\n\n    @property\n    def num_joints(self):\n        return self.value[1]\n\n    @classmethod\n    def from_string(cls, s: str):\n        return getattr(cls, s.upper())\n</code></pre>"},{"location":"reference/api/#fourier_grx_client.utils.ControlMode","title":"<code>fourier_grx_client.utils.ControlMode</code>","text":"<p>               Bases: <code>IntEnum</code></p> <p>Control mode enumeration.</p> Source code in <code>src/fourier_grx_client/utils.py</code> <pre><code>class ControlMode(IntEnum):\n    \"\"\"Control mode enumeration.\"\"\"\n\n    NONE = 0x00\n    CURRENT = 0x01\n    EFFORT = 0x02\n    VELOCITY = 0x03\n    POSITION = 0x04\n    PD = 0x09\n    OTHER = 0x0A\n</code></pre>"},{"location":"reference/cli/","title":"<code>grx</code> CLI Reference","text":"<p>Attention</p> <p>The <code>grx</code> CLI is installed with the <code>fourier-grx</code> package,  which is only comaptible with <code>python==3.11</code>. It is intended to be running onboard the robot. Make sure to install the package before using the CLI.</p>"},{"location":"reference/cli/#grx","title":"<code>grx</code>","text":"<p>Usage:</p> <pre><code>$ grx [OPTIONS] COMMAND [ARGS]...\n</code></pre> <p>Options:</p> <ul> <li><code>--install-completion</code>: Install completion for the current shell.</li> <li><code>--show-completion</code>: Show completion for the current shell, to copy it or customize the installation.</li> <li><code>--help</code>: Show this message and exit.</li> </ul> <p>Commands:</p> <ul> <li><code>run</code>: Run the robot server.</li> <li><code>states</code>: Print the current robot states.</li> <li><code>calibrate</code>: Calibrate the robot sensors and save the...</li> <li><code>disable</code>: Disable all the motors.</li> <li><code>enable</code>: Enable all the motors.</li> <li><code>generate-sensor-offset</code>: Generate sensor offset file from the...</li> </ul>"},{"location":"reference/cli/#grx-run","title":"<code>grx run</code>","text":"<p>Run the robot server.</p> <p>Usage:</p> <pre><code>$ grx run [OPTIONS] CONFIG\n</code></pre> <p>Arguments:</p> <ul> <li><code>CONFIG</code>: Path to the config file  [required]</li> </ul> <p>Options:</p> <ul> <li><code>--namespace TEXT</code>: Namespace for the robot  [default: gr]</li> <li><code>--urdf-path TEXT</code>: Path to the urdf file  [default: ./urdf]</li> <li><code>--freq INTEGER</code>: Main loop frequency in hz. defaults to 400hz.  [default: 400]</li> <li><code>--verbose / --no-verbose</code>: Print internal debug info  [default: verbose]</li> <li><code>--visualize / --no-visualize</code>: Visualize the robot in rviz  [default: no-visualize]</li> <li><code>--help</code>: Show this message and exit.</li> </ul>"},{"location":"reference/cli/#grx-states","title":"<code>grx states</code>","text":"<p>Print the current robot states.</p> <p>Usage:</p> <pre><code>$ grx states [OPTIONS]\n</code></pre> <p>Options:</p> <ul> <li><code>--help</code>: Show this message and exit.</li> </ul>"},{"location":"reference/cli/#grx-calibrate","title":"<code>grx calibrate</code>","text":"<p>Calibrate the robot sensors and save the offsets to a file</p> <p>Usage:</p> <pre><code>$ grx calibrate [OPTIONS] [OUTPUT_PATH]\n</code></pre> <p>Arguments:</p> <ul> <li><code>[OUTPUT_PATH]</code>: Path to the output file  [default: sensor_offsets.json]</li> </ul> <p>Options:</p> <ul> <li><code>--help</code>: Show this message and exit.</li> </ul>"},{"location":"reference/cli/#grx-disable","title":"<code>grx disable</code>","text":"<p>Disable all the motors.</p> <p>Usage:</p> <pre><code>$ grx disable [OPTIONS]\n</code></pre> <p>Options:</p> <ul> <li><code>--help</code>: Show this message and exit.</li> </ul>"},{"location":"reference/cli/#grx-enable","title":"<code>grx enable</code>","text":"<p>Enable all the motors.</p> <p>Usage:</p> <pre><code>$ grx enable [OPTIONS]\n</code></pre> <p>Options:</p> <ul> <li><code>--help</code>: Show this message and exit.</li> </ul>"},{"location":"reference/cli/#grx-generate-sensor-offset","title":"<code>grx generate-sensor-offset</code>","text":"<p>Generate sensor offset file from the control SDK installed on the host machine, usually located at ~/RoCS/bin/pythonscripts/absAngle.json</p> <p>Usage:</p> <pre><code>$ grx generate-sensor-offset [OPTIONS]\n</code></pre> <p>Options:</p> <ul> <li><code>--help</code>: Show this message and exit.</li> </ul>"}]}