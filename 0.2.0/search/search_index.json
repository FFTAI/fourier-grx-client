{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"fourier-grx-client","text":"<p>This is the client library for the Fourier GRX robot.  The correponding server library can be found here.</p>"},{"location":"#installation","title":"Installation","text":"<p>Note</p> <p>This software is highly unstable and subject to change at any time. Version 0.2.0 is only compatible with <code>fourier-grx</code> version <code>v1.0.0</code> and up.</p>"},{"location":"#on-the-robot","title":"On the robot","text":"<p>On the robot, install <code>fourier-grx==0.1.0rc3</code> following the instructions here.</p>"},{"location":"#on-your-local-machine","title":"On your local machine:","text":"<p>Run:</p> <pre><code>pip install fourier-grx-client==0.2.0\n</code></pre>"},{"location":"#usage","title":"Usage","text":"<p>First make sure you know the IP address of the robot server and the namespace it is running on. Then you can create a client object like this: <pre><code>from fourier_grx_client.client import RobotClient\nr = RobotClient(namespace=\"gr/my_awesome_robot\", server_ip=\"192.168.6.6\")\n</code></pre></p>"},{"location":"dev/changelog/","title":"Changelog","text":"<p>Attention</p> <p>This software is highly unstable and subject to change at any time.</p>"},{"location":"dev/changelog/#release-v020-unreleased","title":"Release v0.2.0 (Unreleased)","text":""},{"location":"dev/changelog/#features","title":"\ud83d\ude80 Features","text":"<ul> <li>Robot namespace support</li> <li><code>control_joints</code> API in velocity mode and current mode</li> <li>forward kinematcs and inverse kinematics API</li> </ul>"},{"location":"dev/changelog/#release-v010-2024-08-30","title":"Release v0.1.0 (2024-08-30)","text":""},{"location":"dev/changelog/#features_1","title":"\ud83d\ude80 Features","text":"<ul> <li>Support python &gt;= 3.8</li> <li>Support <code>fourier-grx</code> version <code>v0.1.1-rc.3</code></li> <li>Allow addressing control groups by name in <code>move_joints</code></li> </ul>"},{"location":"reference/api/","title":"API Reference","text":""},{"location":"reference/api/#fourier_grx_client.client.RobotClient","title":"<code>fourier_grx_client.client.RobotClient</code>","text":"<p>               Bases: <code>ZenohSession</code></p> <p>Client class for GR series robots. Example:</p> <pre><code>&gt;&gt;&gt; from fourier_grx_client import RobotClient\n&gt;&gt;&gt; r = RobotClient(namespace=\"gr/my_awesome_robot\", server_ip=\"192.168.6.6\")\n</code></pre>"},{"location":"reference/api/#fourier_grx_client.client.RobotClient.is_moving","title":"<code>is_moving</code>  <code>property</code>","text":"<p>Whether the robot is currently moving.</p>"},{"location":"reference/api/#fourier_grx_client.client.RobotClient.joint_current","title":"<code>joint_current</code>  <code>property</code>","text":"<p>Get the current joint currents of the robot.</p>"},{"location":"reference/api/#fourier_grx_client.client.RobotClient.joint_effort","title":"<code>joint_effort</code>  <code>property</code>","text":"<p>Get the current joint efforts of the robot.</p>"},{"location":"reference/api/#fourier_grx_client.client.RobotClient.joint_positions","title":"<code>joint_positions</code>  <code>property</code>","text":"<p>Get the current joint positions of the robot.</p>"},{"location":"reference/api/#fourier_grx_client.client.RobotClient.joint_velocity","title":"<code>joint_velocity</code>  <code>property</code>","text":"<p>Get the current joint velocities of the robot.</p>"},{"location":"reference/api/#fourier_grx_client.client.RobotClient.__init__","title":"<code>__init__(freq=400, namespace=None, server_ip='localhost', verbose=False)</code>","text":"<p>The client class for GR series robots.</p> <p>Parameters:</p> Name Type Description Default <code>server_ip</code> <code>str</code> <p>IP address of the grx server. Please make sure to properly setup the firewall to allow port 7447. Defaults to \"localhost\".</p> <code>'localhost'</code> <code>freq</code> <code>int</code> <p>Robot state update frequency. Usually the user doesn't need to modify this. Defaults to 400.</p> <code>400</code> <code>namespace</code> <code>str</code> <p>Robot namespace. If not provided, it will try to use the <code>robot_id</code> provided in <code>~/.fourier/robot_id.yaml</code>. If the file does not exist, it will be created using the computer username. Defaults to None.</p> <code>None</code> <p>Raises:</p> Type Description <code>FourierConnectionError</code> <p>If the connection to the server failed.</p>"},{"location":"reference/api/#fourier_grx_client.client.RobotClient.control_joints","title":"<code>control_joints(control_type, commands)</code>","text":"<p>Control the joints in a group with the specified control type.</p> <p>Parameters:</p> Name Type Description Default <code>control_type</code> <code>Literal['position', 'velocity', 'current']</code> <p>The control type to set.</p> required <code>commands</code> <code>ndarray | list</code> <p>The control commands to set.</p> required"},{"location":"reference/api/#fourier_grx_client.client.RobotClient.disable","title":"<code>disable()</code>","text":"<p>Disable the motors.</p>"},{"location":"reference/api/#fourier_grx_client.client.RobotClient.enable","title":"<code>enable()</code>","text":"<p>Enable the motors.</p>"},{"location":"reference/api/#fourier_grx_client.client.RobotClient.forward_kinematics","title":"<code>forward_kinematics(chain_names, q=None)</code>","text":"<p>Get the end effector pose of the specified chains.</p> <p>Parameters:</p> Name Type Description Default <code>chain_names</code> <code>list[str]</code> <p>The chains to get the end effector pose of. Available chain names: 'head', 'left_arm', 'right_arm'.</p> required <code>q</code> <code>ndarray</code> <p>The robot confiuration to do forward kinematics in. Defaults to None.</p> <code>None</code> <p>Returns:</p> Name Type Description <code>list</code> <p>The end effector pose of the specified chains.</p>"},{"location":"reference/api/#fourier_grx_client.client.RobotClient.get_control_modes","title":"<code>get_control_modes()</code>","text":"<p>Get the control modes for all joints.</p>"},{"location":"reference/api/#fourier_grx_client.client.RobotClient.get_gains","title":"<code>get_gains()</code>","text":"<p>Get the control gains for all joints.</p>"},{"location":"reference/api/#fourier_grx_client.client.RobotClient.get_group_position","title":"<code>get_group_position(group)</code>","text":"<p>Get the joint positions of a group.</p>"},{"location":"reference/api/#fourier_grx_client.client.RobotClient.get_group_position_by_name","title":"<code>get_group_position_by_name(name)</code>","text":"<p>Get the joint positions of a group by its name.</p> <p>Parameters:</p> Name Type Description Default <code>name</code> <code>str</code> <p>The name of the group. Available group names: 'left_leg', 'right_leg', 'waist', 'head', 'left_arm', 'right_arm'.</p> required"},{"location":"reference/api/#fourier_grx_client.client.RobotClient.get_transform","title":"<code>get_transform(target_frame, source_frame, q=None)</code>","text":"<p>Get the transformation matrix between two frames in configuration <code>q</code>. If <code>q</code> is None, the current joint positions are used.</p> <p>Parameters:</p> Name Type Description Default <code>target_frame</code> <code>str</code> <p>Name of the frame to get the pose of.</p> required <code>source_frame</code> <code>str</code> <p>Name of the frame to get the pose in.</p> required <code>q</code> <code>ndarray</code> <p>The robot confiuration to do forward kinematics in. Defaults to None.</p> <code>None</code> <p>Returns:</p> Type Description <p>np.ndarray: The transformation matrix.</p>"},{"location":"reference/api/#fourier_grx_client.client.RobotClient.inverse_kinematics","title":"<code>inverse_kinematics(chain_names, targets, dt, degrees=True)</code>","text":"<p>Get the joint positions for the specified chains to reach the target pose.</p> <p>Parameters:</p> Name Type Description Default <code>chain_names</code> <code>list[str]</code> <p>The chains to get the joint positions for. Available chain names: 'head', 'left_arm', 'right_arm'.</p> required <code>targets</code> <code>list[ndarray]</code> <p>The target poses.</p> required <code>dt</code> <code>float</code> <p>The time step for the inverse kinematics.</p> required <p>Returns:</p> Type Description <p>np.ndarray: The joint positions to reach the target pose.</p>"},{"location":"reference/api/#fourier_grx_client.client.RobotClient.list_frames","title":"<code>list_frames()</code>","text":"<p>List all available frames.</p>"},{"location":"reference/api/#fourier_grx_client.client.RobotClient.liveness_check","title":"<code>liveness_check()</code>","text":"<p>Check if the robot server is alive.</p>"},{"location":"reference/api/#fourier_grx_client.client.RobotClient.move_joints","title":"<code>move_joints(group, positions, duration=0.0, blocking=False)</code>","text":"<p>Move in joint space with time duration.</p> <p>Move in joint space with time duration in a separate thread. Can be aborted using <code>abort()</code>. Can be blocking. If the duration is set to 0, the joints will move in their maximum speed without interpolation.</p> <p>Parameters:</p> Name Type Description Default <code>group</code> <code>ControlGroup | list | str</code> <p>The group of joints to move, or a list of joint indices, or name of the joint group.</p> required <code>positions</code> <code>ndarray[float]</code> <p>target joint position in degrees.</p> required <code>duration</code> <code>float</code> <p>Time duration in seconds. If set to 0, the joints will move in their maximum speed without interpolation. Defaults to 0.0.</p> <code>0.0</code> <code>blocking</code> <code>bool</code> <p>If True, block until the move is completed. Defaults to False.</p> <code>False</code>"},{"location":"reference/api/#fourier_grx_client.client.RobotClient.play_traj","title":"<code>play_traj(traj, timestamps=None)</code>","text":"<p>Play a trajectory in joint space.</p>"},{"location":"reference/api/#fourier_grx_client.client.RobotClient.reboot","title":"<code>reboot()</code>","text":"<p>Reboot the motors.</p>"},{"location":"reference/api/#fourier_grx_client.client.RobotClient.set_control_modes","title":"<code>set_control_modes(control_mode=None)</code>","text":"<p>Set the control modes for all joints.</p> <p>Parameters:</p> Name Type Description Default <code>control_mode</code> <code>ControlMode | list[ControlMode] | None</code> <p>ControlMode can be PD, VELOCITY, CURRENT. Defaults to None.</p> <code>None</code>"},{"location":"reference/api/#fourier_grx_client.client.RobotClient.set_enable","title":"<code>set_enable(enable)</code>","text":"<p>Enable or disable the motors.</p>"},{"location":"reference/api/#fourier_grx_client.client.RobotClient.set_home","title":"<code>set_home()</code>","text":"<p>Get sensor offsets and save to <code>sensor_offset.json</code></p>"},{"location":"reference/cli/","title":"<code>grx</code> CLI Reference","text":"<p>Attention</p> <p>The <code>grx</code> CLI is installed with the <code>fourier-grx</code> package,  which is only comaptible with <code>python==3.11</code>. It is intended to be running onboard the robot. Make sure to install the package before using the CLI.</p>"},{"location":"reference/cli/#grx","title":"<code>grx</code>","text":"<p>Usage:</p> <pre><code>$ grx [OPTIONS] COMMAND [ARGS]...\n</code></pre> <p>Options:</p> <ul> <li><code>--install-completion</code>: Install completion for the current shell.</li> <li><code>--show-completion</code>: Show completion for the current shell, to copy it or customize the installation.</li> <li><code>--help</code>: Show this message and exit.</li> </ul> <p>Commands:</p> <ul> <li><code>calibrate</code>: Calibrate the robot sensors and save the...</li> <li><code>disable</code>: Disable all the motors.</li> <li><code>enable</code>: Enable all the motors.</li> <li><code>generate-sensor-offset</code>: Generate sensor offset file from the...</li> <li><code>run</code>: Run the robot server.</li> <li><code>states</code>: Print the current robot states.</li> </ul>"},{"location":"reference/cli/#grx-run","title":"<code>grx run</code>","text":"<p>Run the robot server.</p> <p>Usage:</p> <pre><code>$ grx run [OPTIONS] CONFIG\n</code></pre> <p>Arguments:</p> <ul> <li><code>CONFIG</code>: Path to the config file  [required]</li> </ul> <p>Options:</p> <ul> <li><code>--namespace TEXT</code>: Namespace for the robot</li> <li><code>--freq INTEGER</code>: Main loop frequency in hz. defaults to 400hz.  [default: 400]</li> <li><code>--verbose / --no-verbose</code>: Print internal debug info  [default: verbose]</li> <li><code>--help</code>: Show this message and exit.</li> </ul>"},{"location":"reference/cli/#grx-states","title":"<code>grx states</code>","text":"<p>Print the current robot states.</p> <p>Usage:</p> <pre><code>$ grx states [OPTIONS]\n</code></pre> <p>Options:</p> <ul> <li><code>--help</code>: Show this message and exit.</li> </ul>"},{"location":"reference/cli/#grx-calibrate","title":"<code>grx calibrate</code>","text":"<p>Calibrate the robot sensors and save the offsets to a file</p> <p>Usage:</p> <pre><code>$ grx calibrate [OPTIONS] [OUTPUT_PATH]\n</code></pre> <p>Arguments:</p> <ul> <li><code>[OUTPUT_PATH]</code>: Path to the output file  [default: sensor_offsets.json]</li> </ul> <p>Options:</p> <ul> <li><code>--help</code>: Show this message and exit.</li> </ul>"},{"location":"reference/cli/#grx-disable","title":"<code>grx disable</code>","text":"<p>Disable all the motors.</p> <p>Usage:</p> <pre><code>$ grx disable [OPTIONS]\n</code></pre> <p>Options:</p> <ul> <li><code>--help</code>: Show this message and exit.</li> </ul>"},{"location":"reference/cli/#grx-enable","title":"<code>grx enable</code>","text":"<p>Enable all the motors.</p> <p>Usage:</p> <pre><code>$ grx enable [OPTIONS]\n</code></pre> <p>Options:</p> <ul> <li><code>--help</code>: Show this message and exit.</li> </ul>"},{"location":"reference/cli/#grx-generate-sensor-offset","title":"<code>grx generate-sensor-offset</code>","text":"<p>Generate sensor offset file from the control SDK installed on the host machine, usually located at ~/RoCS/bin/pythonscripts/absAngle.json</p> <p>Usage:</p> <pre><code>$ grx generate-sensor-offset [OPTIONS]\n</code></pre> <p>Options:</p> <ul> <li><code>--help</code>: Show this message and exit.</li> </ul>"}]}